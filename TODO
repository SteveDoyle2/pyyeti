` -  pyyeti.rst -> list to table?

-  Add generic assemble array routine ? (a, b, …, c, ‘’, A, B, …C, ‘’, …)

1. Update duf explanation in cla.apply_uf
2. Read dmig matrices
4. Convert uset to dataframe i think
5. Convert ext, mx, mn in DR_Results to dataframe
~ 6. Add option to only compare selected drms in cla.rptpct
~ 7. dsp:  add "units" input so `timeslice` and `tsoverlap` can be input in
     number of points instead of seconds and proportion
~ 8. Add frequency range to SPL
~ 9. Add dependent/independent setting to wrtrspline_rings
10. Add feature to loop over DR_Results data structure so a function can
    be applied to all SimpleNamespaces … ?
11. Add bubble color option to datacursor
12. op4: add some c?


- cla.py:
    DR_Results() … should this be able to init? I think so:
                   DR_Results(drdefs, mission, event)
                   … similar to DR.prepare_results(mission, event)
                   … and/or, what about a DR_Def.prepare_results()
    ß actually, replace DR_Event.prepare_results() I think!!
                   Get rid of Info in DR_Event? Probably can’t because
                   of the uf_reds override.

    Naming convention should be more consistent:
      drdefs vs. Info vs. drminfo
         - Could they all be DR_Def instances??

         - Info can be a DR_Def instance  ... but each drminfo is just
           a SimpleNamespace: a "value" in the DR_Def (or Info) dict

    - think about getting rid of DR_Event altogether ... just update
      a new DR_Def with all drdefs/dufs/ulvs's ... will this work?

    Be sure to update doctest for add_maxmin

    ~ DR_Def could be derived from dict or OrderedDict …
    “drdefs[cat]” seems better than “drdefs.dr_def[cat]”

    ~ Hmm … what about "class DR_Event(dict)"?
                   Nah, this one seems okay as is

    Update the code to better handle NaNs.
      - got a couple different methods going right now ... ??


~    1 resp_plots pdf filename -- this is the `onepdf` option i believe
    2 write complete test_cla.py
    3 magpct needs to be able to chop off small numbers

    4 when flagging, but no flags, format is shortened by one char for that column
    5 maybe add option to use only one figure ... that should be default ?

    6 y-axis label written far away in srs3/net_ifatm_0rb_eqsine_all.pdf plot ... why?

doc:
..   .. autoclass:: DR_Results
..      :no-inherited-members:
   

- CB animation:
    We could animate the nodes included in the ATM for a particular mode with Python:

    1.  We’d get the positions of all nodes in the ATM from the b-set
    part (like cb.rbmultchk does). We’d trim ATM down to 3 DOF per
    node … no rotations and we must have all 3 translations.

    2.  Convert all local coordinates to basic if
    needed. (cb.rbmultchk explains how this is done.)

    3.  Place those dots on a 3D plot.

    4.  Take the column representing the mode shape you want from the
    trimmed ATM and multiply it by a sine wave. In Python, using
    broadcasting, we could compute one cycle by something like this:

    a.  t = np.arange(0., 1., .01)

    b.  ATM_trimmed[:, i:i+1] * np.sin(2*np.pi*t) motion for the ATM
    column corresponding to whichever mode we want to animate. This
    would give us the x, y, z motions for all nodes. Add that to the
    coordinates to get positions in space.

    5.  Tell matplotlib to animate those positions so we can see it.



/home/loads/twidrick/.python/lib/python3.6/site-packages/pyyeti-0.90.2-py3.6-linux-x86_64.egg/pyyeti/cla.py:4782: RuntimeWarning: All-NaN slice encountered                                                                                                                                                   

  mx2 = np.nanmax(abs(mxmn2), axis=1)                                                                                                                 

/home/loads/twidrick/.python/lib/python3.6/site-packages/pyyeti-0.90.2-py3.6-linux-x86_64.egg/pyyeti/cla.py:4493: RuntimeWarning: invalid value encountered in greater                                                                                                                                       

  pv &= (abs(a) > filt) | (abs(b) > filt)

/home/loads/twidrick/.python/lib/python3.6/site-packages/pyyeti-0.90.2-py3.6-linux-x86_64.egg/pyyeti/cla.py:4496: RuntimeWarning: All-NaN slice encountered

  denom = np.nanmax(abs(mxmn_b), axis=1)

/home/loads/twidrick/.python/lib/python3.6/site-packages/pyyeti-0.90.2-py3.6-linux-x86_64.egg/pyyeti/cla.py:4512: RuntimeWarning: invalid value encountered in less

  neg = a < b if ismax else a > b

/home/loads/twidrick/.python/lib/python3.6/site-packages/pyyeti-0.90.2-py3.6-linux-x86_64.egg/pyyeti/cla.py:4480: RuntimeWarning: invalid value encountered in greater

  badpv &= abs(pct) > bad

/home/loads/twidrick/.python/lib/python3.6/site-packages/pyyeti-0.90.2-py3.6-linux-x86_64.egg/pyyeti/cla.py:4512: RuntimeWarning: invalid value encountered in greater

  neg = a < b if ismax else a > b

/home/loads/twidrick/.python/lib/python3.6/site-packages/pyyeti-0.90.2-py3.6-linux-x86_64.egg/pyyeti/cla.py:104: RuntimeWarning: invalid value encountered in less

  neg = a < b if ismax else a > b

/home/loads/twidrick/.python/lib/python3.6/site-packages/pyyeti-0.90.2-py3.6-linux-x86_64.egg/pyyeti/cla.py:124: RuntimeWarning: invalid value encountered in less_equal

  for pv, c in [(apd <= 5, 'b'),

/home/loads/twidrick/.python/lib/python3.6/site-packages/pyyeti-0.90.2-py3.6-linux-x86_64.egg/pyyeti/cla.py:125: RuntimeWarning: invalid value encountered in greater

  ((apd > 5) & (apd <= 10), 'm'),

/home/loads/twidrick/.python/lib/python3.6/site-packages/pyyeti-0.90.2-py3.6-linux-x86_64.egg/pyyeti/cla.py:125: RuntimeWarning: invalid value encountered in less_equal

  ((apd > 5) & (apd <= 10), 'm'),

/home/loads/twidrick/.python/lib/python3.6/site-packages/pyyeti-0.90.2-py3.6-linux-x86_64.egg/pyyeti/cla.py:126: RuntimeWarning: invalid value encountered in greater

  (apd > 10, 'r')]:

/home/loads/twidrick/.python/lib/python3.6/site-packages/pyyeti-0.90.2-py3.6-linux-x86_64.egg/pyyeti/cla.py:104: RuntimeWarning: invalid value encountered in greater

  neg = a < b if ismax else a > b

/home/loads/twidrick/.python/lib/python3.6/site-packages/pyyeti-0.90.2-py3.6-linux-x86_64.egg/pyyeti/cla.py:3306: RuntimeWarning: Some comparisons were skipped (not found in `refres`):

['SC_dtm_ma', 'tsp_0rb']

  .format(str(skipdrms)), RuntimeWarning)

 

